{% extends "layout.html" %}

{% block content %}
<h2>Account Summary</h2>

{% if net_worth_change > 0 %}
    <p style="color: green; font-weight: bold;">ðŸ“ˆ Net Worth is up by ${{ "{:,.2f}".format(net_worth_change) }} from last month!</p>
{% elif net_worth_change < 0 %}
    <p style="color: red; font-weight: bold;">ðŸ“‰ Net Worth is down by ${{ "{:,.2f}".format(abs(net_worth_change)) }} from last month.</p>
{% else %}
    <p style="color: gray; font-weight: bold;">No change in Net Worth from last month.</p>
{% endif %}

<canvas id="netWorthChart" width="400" height="400"></canvas>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='charts.js') }}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Pass data from Flask to JavaScript
        const accounts = {{ accounts|tojson }};
        const accountValues = {{ account_values|tojson }};
        console.log("Accounts:", accounts);
        console.log("Account Values:", accountValues);

        // Call drawChart with dynamic data
        drawChart(accounts, accountValues);
    });
</script>
{% endblock %}
